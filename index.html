<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>生成TikTok搜索跳转链接</title>
    <script>
        function generateRedirect() {
            const keyword = document.getElementById("keyword").value;
            const videoId = document.getElementById("videoId").value;
            const username = document.getElementById("username").value;

            const searchUrl = `https://www.tiktok.com/search?q=${encodeURIComponent(keyword)}`;
            const targetVideoUrl = `https://www.tiktok.com/@${username}/video/${videoId}`;

            const redirectPageContent = `
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <meta charset="UTF-8">
                    <title>Redirecting...</title>
                    <script>
                        function autoNavigateToVideo() {
                            window.location.href = "${targetVideoUrl}";
                        }
                        window.onload = function() {
                            setTimeout(autoNavigateToVideo, 5000);
                        }
                    <\/script>
                </head>
                <body>
                    <p>正在跳转，请稍候...</p>
                </body>
                </html>
            `;

            const blob = new Blob([redirectPageContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);

            document.getElementById("redirectLink").href = url;
            document.getElementById("redirectLink").style.display = 'block';
            document.getElementById("redirectLink").textContent = '点击这里复制链接';
        }

        function copyToClipboard() {
            const link = document.getElementById("redirectLink").href;
            navigator.clipboard.writeText(link).then(() => {
                alert('链接已复制到剪贴板');
            });
        }
    </script>
</head>
<body>
    <h1>生成TikTok搜索跳转链接</h1>
    <form onsubmit="generateRedirect(); return false;">
        <label for="keyword">关键词:</label>
        <input type="text" id="keyword" name="keyword" required><br><br>
        <label for="videoId">视频ID:</label>
        <input type="text" id="videoId" name="videoId" required><br><br>
        <label for="username">用户名:</label>
        <input type="text" id="username" name="username" required><br><br>
        <button type="submit">生成跳转链接</button>
    </form>
    <br>
    <a id="redirectLink" href="#" style="display:none;" onclick="copyToClipboard()">点击这里复制链接</a>
</body>
</html>
